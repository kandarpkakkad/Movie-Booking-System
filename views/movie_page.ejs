<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="shortcut icon" href="image/x-icon" href="icon2.ico"/>
        <link rel="stylesheet" href="/css/tickets.css" type="text/css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"/>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
        <link href="https://fonts.googleapis.com/css?family=Inconsolata:700">
        <link rel="stylesheet" type="text/css" href="/css/signup.css">
        <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="/swiper/swiper.min.css">
        <link rel="stylesheet" type="text/css" href="/css/movie_page.css">
        <style>
            .swiper-container {
                width: 100%;
                height: 100%;
            }
            .swiper-slide {
                text-align: center;
                font-size: 18px;
                background: #f3f3f3;
                display: -webkit-box;
                display: -ms-flexbox;
                display: -webkit-flex;
                display: flex;
                -webkit-box-pack: center;
                -ms-flex-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                -webkit-box-align: center;
                -ms-flex-align: center;
                -webkit-align-items: center;
                align-items: center;
                height: 30%;
                width: 50%;
                max-height: 500px;
            }
        </style>
        <title>Tickets</title>
    </head>
    <body>
        <header>
            <nav class="nav-wraper">
                <div class="container">
                    <a href="/" class="brand-logo"><img src="/logo/logo.png" height="80px" width="210px" alt="logo"></a>
                    <a href="#" class="sidenav-trigger" data-target="mobile-links">
                        <em class="material-icons">menu</em>
                    </a>
                    <ul class="right hide-on-med-and-down">
                        <li><a href="/about">About</a></li>
                        <li><a href="/contact">Contact</a></li>
                        <% if(typeof person !== "undefined") { %>
                            <li><a href="#"><%= person.first_name %></a></li>
                        <% } %>
                        <li><a href="/">Sign Out</a></li>
                    </ul>
                </div>
            </nav>

            <ul class="sidenav" id="mobile-links">
                <li><a href="/about">About</a></li>
                <li><a href="/contact">Contact</a></li>
                <% if(typeof person !== "undefined") { %>
                    <li><a href="#"><%= person.fname %></a></li>
                <% } %>
                <li><a href="/">Sign Out</a></li>
            </ul>
        </header>

        <div id="content" style="background: linear-gradient(rgba(255,255,255,0.8), rgba(255,255,255,0.8)), url('<%= movie.back_path %>');background-size: 100% 400px; background-repeat: no-repeat; background-position: top center">
            <br><br>
            <div class="container">
                <div class="row">
                    <div class="col s12 m12 l4 center">
                        <div class="card" style="width: 85%; height: 50%; max-width: 343px;">
                            <div class="card-image"  style="width: 100%; height: 450px;">
                                <img src="<%= movie.img_path %>" alt="<%= movie.name %>" height="100%" width="100%">
                            </div>
                        </div>
                    </div>
                    <div class="col s12 m12 l8">
                        <div><h1 style="color: #19334d"><%= movie.name %></h1></div>
                        <div class="lang" style="margin-top: 4%">
                            <div class="badge langs">
                                <% if(movie.adult === true){ %>
                                    <h5>A</h5>
                                <% } %>
                                <% if(movie.adult !== true){ %>
                                    <h5>UA</h5>
                                <% } %>
                            </div>
                            <% movie.languages.forEach(function(lang){ %>
                                <div class="langs"><h5><%= lang %></h5></div>
                            <% }); %>
                        </div>
                        <div class="lang">
                            <% movie.genre.forEach(function(lang){ %>
                                <div class="langs"><h5><%= lang %></h5></div>
                            <% }); %>
                        </div>
                        <div class="lang">
                            <div class="langs"><h6><i class="fa fa-calendar" aria-hidden="true"></i>   <%= movie.release_date %></h6></div>
                            <div class="langs"><h6><i class="fa fa-clock-o" aria-hidden="true"></i>   <%= movie.duration %></h6></div>
                            <div class="langs"><a href="/book/<%= movie.name %>" id="book">Book Now</a></div>
                        </div>
                        <div style="padding: 0 1.5%"><h5><em class="material-icons red-text">favorite</em> <%= movie.rating %>%</h5></div>
                        <div style="padding: 0 1.5%" id="vote"><h6><%= movie.votes %> votes</h6></div>
                    </div>
                </div>
                <div>
                    <h2 class="headings" style="text-align: center">Synopsis</h2>
                    <hr color="#19334d" width="50%">
                    <% movie.synopsis.forEach(function (para) { %>
                    <p><%= para %></p>
                    <%  }); %>
                </div>

                <div class="row">
                    <h2 class="headings" style="text-align: center">Cast</h2>
                    <hr color="#19334d" width="50%">
                    <% movie.cast.forEach(function(c){ %>
                        <div class="col s12 m12 l3">
                            <div class="card medium" style="width: 85%; height: 50%; max-width: 343px; height: 450px">
                                <div class="card-image" style="width: 100%; height: 340px;">
                                    <img src=<%= c.img_path %> alt=<%= c.name %> height="100%">
                                </div>
                                <div class="card-content">
                                    <span class="card-title black-text" style="text-align: center"><%= c.name %></span>
                                    <span style="text-align: center"><h6><%= c.profession %></h6></span>
                                    <span  style="text-align: center"><h6><%= c.role %></h6></span>
                                </div>
                            </div>
                        </div>
                    <% }); %>
                </div>

                <div class="row">
                    <h2 class="headings" style="text-align: center">Crew</h2>
                    <hr color="#19334d" width="50%">
                    <% movie.crew.forEach(function(c){ %>
                        <div class="col s12 m12 l3">
                            <div class="card medium" style="width: 85%; height: 50%; max-width: 343px; height: 450px;">
                                <div class="card-image" style="width: 100%; height: 340px;">
                                    <img src=<%= c.img_path %> alt=<%= c.name %> height="100%">
                                </div>
                                <div class="card-content" >
                                    <span class="card-title black-text" style="text-align: center"><%= c.name %></span>
                                    <div style="display: flex; justify-content: center">
                                        <% for(var i = 0; i < c.role.length; i++){ %>
                                            <span><h6><%= c.role[i] %><% if(i != c.role.length - 1){ %><span>,&nbsp;</span><% } %></h6></span>
                                        <% } %>
                                    </div>
                                </div>
                            </div>
                        </div>
                    <% }); %>
                </div>
            </div>
        </div>

        <footer class="page-footer">
            <div class="container">
                <div class="valign-wraper row">
                    <div class="col s12 m6 l6">
                        <p>Tickets &copy; 2019. All rights reserved.</p>
                        <p><a href="/tos">Terms of Service</a> | <a href="/privacy">Privacy</a></p>
                    </div>
                    <div class="col s12 m6 l6">
                        <a href="/contact" class="right"><h5> Contact </h5></a>
                    </div>
                </div>
            </div>
        </footer>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <script src="/js/signup.js" type="text/javascript"></script>
        <script src="/swiper/swiper.min.js"></script>
        <script>
            var swiper = new Swiper('.swiper-container', {
                slidesPerView: 'auto',
                spaceBetween: 30,
                loop: true,
                speed: 2000,
                loopFillGroupWithBlank: true,
                centeredSlides: true,
                autoplay: {
                    delay: 2500,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
            });
        </script>
        <script>
            $(document).ready(function(){
                M.AutoInit();
            });
        </script>
    </body>
</html>